{% extends 'base.html' %}

{% block title %}Password Generator{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Password Generator</h1>
    <p>Creating a strong password is crucial for protecting your online accounts and sensitive information. Use our Password Generator to create secure passwords that are hard to guess and meet your specific security needs. Customize your password length and include various types of characters to ensure it meets your security requirements.</p>
    
    <form method="post">
        <div class="form-group">
            <label for="length">Password Length:</label>
            <input type="number" id="length" name="length" class="form-control" value="{{ length }}" min="1" required>
        </div>
        <div class="form-check">
            <input type="checkbox" id="uppercase" name="uppercase" class="form-check-input" {% if include_uppercase %}checked{% endif %}>
            <label class="form-check-label" for="uppercase">Include Uppercase Letters</label>
        </div>
        <div class="form-check">
            <input type="checkbox" id="digits" name="digits" class="form-check-input" {% if include_digits %}checked{% endif %}>
            <label class="form-check-label" for="digits">Include Digits</label>
        </div>
        <div class="form-check">
            <input type="checkbox" id="special" name="special" class="form-check-input" {% if include_special %}checked{% endif %}>
            <label class="form-check-label" for="special">Include Special Characters</label>
        </div>
        <button type="submit" class="btn btn-primary mt-3">Generate Password</button>
    </form>

    {% if password %}
    <div class="mt-4">
        <h3>Your Generated Password:</h3>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="generatedPassword" value="{{ password }}" readonly>
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" onclick="copyPassword()">Copy</button>
            </div>
        </div>
        <h4>Password Strength:</h4>
        <p class="bg-light p-3" style="color: {{ color }};">{{ strength }}</p>
        {% if strength == 'Weak' %}
        <p>Suggestions: Increase password length, and consider adding uppercase letters, digits, or special characters. A longer password with a mix of character types is generally more secure.</p>
        {% elif strength == 'Moderate' %}
        <p>Suggestions: Consider adding more characters or including a mix of uppercase letters, digits, and special characters. This will enhance the overall strength of your password.</p>
        {% elif strength == 'Strong' %}
        <p>Good job! Your password is strong. For even better security, you might add more special characters or increase the length.</p>
        {% elif strength == 'Very Strong' %}
        <p>Excellent! Your password is very strong. It should provide a high level of security for your accounts.</p>
        {% endif %}
    </div>
    {% endif %}
</div>

<div class="container mt-5">
    <h3>Useful Tips for Strong Passwords</h3>
    <ul>
        <li><strong>Avoid Common Words and Phrases:</strong> Using easily guessable words or common phrases can make your password vulnerable. Opt for random combinations of letters, numbers, and symbols.</li>
        <li><strong>Use a Mix of Characters:</strong> Include uppercase letters, lowercase letters, digits, and special characters to increase complexity.</li>
        <li><strong>Avoid Personal Information:</strong> Don't use easily accessible information such as your name, birthdate, or username in your password.</li>
        <li><strong>Make It Long:</strong> The longer your password, the harder it is to crack. Aim for at least 12 characters.</li>
        <li><strong>Change Passwords Regularly:</strong> Regularly updating your passwords can help protect against potential breaches.</li>
        <li><strong>Use a Password Manager:</strong> Consider using a password manager to generate and store complex passwords securely.</li>
        <li><strong>Enable Two-Factor Authentication (2FA):</strong> Enhance your security by enabling 2FA where possible, adding an extra layer of protection to your accounts.</li>
    </ul>
</div>

<script>
    function copyPassword() {
        const passwordInput = document.getElementById('generatedPassword');
        passwordInput.select();
        passwordInput.setSelectionRange(0, 99999); // For mobile devices

        navigator.clipboard.writeText(passwordInput.value)
            .then(() => {
                alert('Password copied to clipboard!');
            })
            .catch((error) => {
                console.error('Could not copy text: ', error);
            });
    }
</script>
{% endblock %}
